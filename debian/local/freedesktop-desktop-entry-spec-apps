#!/usr/sbin/install-menu
# freedesktop desktop entry spec - applications generation
# http://www.freedesktop.org/Standards/desktop-entry-spec
# Copyright 2004 - Chris Cheney
# Licensed under the GNU General Public License, version 2.

!include menu.h

compat="menu-2"

function AppEntry($terminal) =
	"[Desktop Entry]\n"
	"Type=Application\n"
	"Encoding=UTF-8\n"
	"Name=" title() "\n"
	"GenericName=" title() "\n"
	"Comment=" ifnempty($longtitle,$longtitle) "\n"
	"Icon=" icon() "\n"
	"Exec=" $command "\n"
	"Terminal=" $terminal "\n"
	"Categories=X-Debian" replacewith($basesection,"/","-") "\n";

outputencoding="UTF-8";

supported;
 x11 = AppEntry("false");
 text = AppEntry("true");
endsupported;

startmenu = "";
endmenu = "";
submenutitle = "";

treewalk = "M";

genmenu = ifnempty($command,tolower(replacewith($title,"/ ","_") ".desktop"));

rootsection = "";

prerun = "rm -rf " prefix() "/*";

preoutput = "";

rootprefix = "/var/lib/kde/debian-apps";

userprefix = ".local/share/applications/kde/debian";
